# Chap 01. React 簡介

## 前端技術發展與趨勢

早期嵌入在瀏覽器的JavaScript只是小眾語言，性能也不好。但從AJAX技術出現之後，基於JavaScript的前端技術得到了前所未有的重視。而後jQuery、Prototype、Dojo、ExtJS等前端組件框架陸續出現，到Google公司專門為JavaScript研發的V8引擎更使得JavaScript插上了騰飛的翅膀，前端生長日趨繁榮。

近年移動應用的蓬勃發展，移動端的生長勢頭變得更加強盛。移動應用的出現給前端帶來了許多新的挑戰，如多終端適配問題、多分辨率適配問題、遠程調適問題等，針對這些問題出現了各種解決方案，推動了Web技術的發展，Web前端出現了百花齊放的態勢，Web開發出現了新的變革。語言層面，出現了CoffeeScript、TypeScript等語言，對原來的JavaScript進行了語法增強，JavaScript語言本身也出現了新的標準，如ES 2015。Twitter公司推出的Bootstrap試圖從樣式層面入手解決終端適配問題，出現了LESS、SASS和Stylus等預處理器語言；在JavaScript模組管理方面，出現了AMD、CMD、KMD等多個模塊管理規範，也衍生SeaJS、RequireJS等模組化管理工具。包管理工具，經歷了components、bower、spm後，npm開始佔據主導地位。在規範和標準上也有不少產出，Web Components的出現給前端開發開闢了新思路；在JS調試方面，各瀏覽器提供了種類繁多、功能豐富的調試工具和方案；在自動化測試方面，PhantomJS在自動化測試上逐漸取代Selenium，而WebDriver規範的出現近一步推動了自動化測試的進程；在構建工具上先後出現grunt、browserify、gulp、webpack、jspm等，目前webpack逐漸成為了主流。

在前端框架方面，目前也出現了眾多框架，其中的佼佼者React和AngularJS均出自名門公司，具有非凡的影響力和號招力，尤其是React，它定位於前端組件化、高性能和跨平台，它提出的基於虛擬DOM的理念一出現就獲得了廣泛的關注和認可，也被AngularJS等其他前端框架所引入。

本書著眼於React技術，也會對相關JS工程化技術進行探討。

## React簡介

React起源於Facebook內部項目。該公司嘗試引入HTML 5技術來架設Instagram網站，過程中，發現對於複雜前端HTML 5性能明顯下降，達不到預期效果。經過對市場上JavaScript MVC框架調研後，都找不到能滿足自己需求的產品，於是決定自己開發一套。2013年5月開發完成後就發佈到開源平台上，一發佈就引起廣泛的關注和認可。

React的設計思想極其獨特，是對前端技術的一大革命性創新，其性能優秀、代碼邏輯簡單、適用面廣且能用於移動APP開發，受到越來越多的人的關注和使用，普通認為它代表了未來Web開發的主流方向。同時，React關鍵性的虛擬DOM思想也陸續被其他框架引入，如AngularJS 2，也進一步證明React理念的優秀和先進性。比如Github Atom與yahoo Email使用React構建與重構。

## React特點

### 虛擬DOM

在Web開發中，UI介面總是需要根據資料生成對應的DOM由瀏覽器呈現出來，並隨資料的變化而調整相應的DOM，這就需要反覆的對DOM進行操作。複雜或頻繁的DOM操作通常對性能造成很大的影響。為此React引入了虛擬DOM機制：用戶構建虛擬DOM，由React將虛擬DOM渲染到瀏覽器DOM中。每次資料變化React都會掃描整個虛擬DOM樹，自動計算與上次虛擬DOM的差異變化，然後針對需要變化的部分進行實際的瀏覽器DOM更新。虛擬DOM是內存資料，本身操作性能極高，對實際DOM進行操作僅僅是差異變化，從而性能得到很大的提高。

在保證性能的同時，用戶不再需要關注某些資料的變化如何局部更新到一個或多個實體的DOM元素，而只需要關心資料狀態，以及對應資料狀態下介面是如何渲染的，除此之外的其他工作都由React自動高效地完成。這樣既明晰了開發思路，又提高開發效率。

由於我們的主要操作對象是虛擬DOM，與真實瀏覽器無關，甚至是否是瀏覽器環境都沒關係，只要存在從虛擬DOM到真實DOM的轉換器，就可以實現虛擬DOM最終介面呈現，從而達到跨平台的目的。而從虛擬DOM到真實DOM的轉換工具由react-dom實現，從虛擬DOM到移動APP的轉換工具由react-native實現。

### 組件化

虛擬DOM不僅帶來簡化的UI開發邏輯，同時也帶來組件化開發的思想。所謂組件，即封裝起來的具有獨立功能的、可複用的UI部件。



### 單向資料流